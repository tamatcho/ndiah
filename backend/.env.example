# ── Required ─────────────────────────────────────────────────────────────────
OPENAI_API_KEY=sk-...

# ── OpenAI models (defaults shown) ───────────────────────────────────────────
OPENAI_MODEL=gpt-5-nano
EMBED_MODEL=text-embedding-3-small

# ── Database ─────────────────────────────────────────────────────────────────
# Local development (SQLite — default if DATABASE_URL is not set):
# DB_URL=sqlite:///./storage/app.db

# Hosted (Railway + Supabase — preferred, required on Railway):
# DATABASE_URL=postgresql://postgres.<project-ref>:<password>@aws-0-<region>.pooler.supabase.com:6543/postgres

# ── Storage paths (defaults shown, relative to backend/) ─────────────────────
STORAGE_DIR=storage
UPLOAD_DIR=storage/uploads
FAISS_DIR=storage/faiss

# ── Firebase auth (leave blank to disable auth) ───────────────────────────────
# Provide one of the two options:
# FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account",...}   # inline JSON
# FIREBASE_SERVICE_ACCOUNT_FILE=firebase-service-account.json    # path to file

# ── CORS (comma-separated origins) ───────────────────────────────────────────
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# ── Rate limits ───────────────────────────────────────────────────────────────
CHAT_RATE_LIMIT=10/minute
TIMELINE_RATE_LIMIT=10/minute

# ── Free-tier limits ──────────────────────────────────────────────────────────
FREE_TIER_MAX_DOCUMENTS_PER_PROPERTY=50
FREE_TIER_MAX_PROPERTIES_PER_USER=5

# ── PDF quality ───────────────────────────────────────────────────────────────
MAX_PDF_BYTES=10485760
PDF_QUALITY_WARN_THRESHOLD=0.3

# ── RAG / similarity ─────────────────────────────────────────────────────────
MIN_SIMILARITY_SCORE=0.35

# ── Timeline extraction ───────────────────────────────────────────────────────
TIMELINE_EXTRACTION_INPUT_CHARS=40000
TIMELINE_EXTRACTION_TIMEOUT_SECONDS=45
TIMELINE_EXTRACTION_RESPONSE_TOKENS=1200
TIMELINE_EXTRACTION_MAX_ITEMS=25
